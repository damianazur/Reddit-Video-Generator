(window.webpackJsonp=window.webpackJsonp||[]).push([["AwardTooltip"],{"./src/reddit/components/AwardTooltip/index.m.less":function(e,t,a){e.exports={headerBar:"_1upk7O0Nror_rUzpKtAT82",awardDetails:"_3EitQZYmhmkb40LVIqZjbf",awardIconContainer:"_3d4PewaRsE8Kt1dA9yVlK6",awardIcon:"_3Hlfqt1qFE_Tu7QOlUiazx",awardName:"_35wr2WzwkRAIoUu5CXPuNQ",awardDescription:"_2-4PwlBy4HgE_34Dneye8m",subreddit:"_1X9qQp-APi9LYm-TWfMGNK",subredditIcon:"_1d6eT4Yh-x1pgKfz_TFiB",modShield:"_3GaARjoK2CWYLfWjrPUTkN",howToLink:"_1liKJZCBt1h8KFR0F0Gqsi"}},"./src/reddit/components/AwardTooltip/index.tsx":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/react-redux/es/index.js"),s=a("./node_modules/reselect/es/index.js"),i=a("./src/lib/classNames/index.ts"),d=a("./src/reddit/helpers/isPost.ts"),c=a("./src/reddit/i18n/components.tsx"),l=a("./src/reddit/constants/colors.ts"),m=a("./src/reddit/models/Gold/Award.ts"),p=a("./src/reddit/selectors/subreddit.ts"),h=a("./src/reddit/selectors/user.ts"),u=a("./bundled-modules/styled-components/styled-components.min.js"),w=a.n(u),b=a("./src/higherOrderComponents/addOverlayEvents.tsx"),O=a("./src/higherOrderComponents/asTooltip.tsx"),E=a("./src/lib/fastdom/index.ts"),g=a("./src/reddit/models/Theme/NewColorSystem/index.ts"),T=a("./src/reddit/selectors/tooltip.ts"),f=a("./src/reddit/components/ContentTooltip/index.m.less"),C=a.n(f);const x=200,v=w.a.div.withConfig({componentId:"s4gobx4-0"})(["background: ",";&::after {left: 50%;margin-left: -","px;color: ",";}"],e=>Object(g.c)(e).body,e=>e["data-overflow"].left+7,e=>{const t=e.caretOnBottomColor,a=e.caretOnTopColor,n=e.caretOnTop,o=Object(g.c)(e).body;return(n?a:t)||o}),P=Object(s.c)({isOpen:(e,{tooltipId:t})=>Object(T.b)(t)(e)}),y=Object(O.a)(e=>{const t=e.caretOnBottomColor,a=e.caretOnTopColor,n=e.caretOnTop,r=e.children,s=e.className,d=e.overflow,c=e.style;return o.a.createElement(v,{caretOnBottomColor:t,caretOnTopColor:a,caretOnTop:n,className:Object(i.a)(s,C.a.tooltipContainer,n?C.a.caretOnTop:""),style:c,"data-overflow":d},r)},[b.a.Click,b.a.Keydown]);var A=Object(r.b)(P)(class extends o.a.Component{constructor(e){super(e),this.checkAndSetPosition=(()=>{var e=this.props;const t=e.tooltipId,a=e.tooltipHeightEstimate;E.a.read(()=>{const e=document.getElementById(t);if(!e)return;const n=e.getBoundingClientRect().top<=(a||x);this.setState({caretOnTop:n,positionSet:!0})})}),this.state={caretOnTop:!!e.caretOnTop,positionSet:!!e.disableDynamicPositioning}}componentDidUpdate(e){const t=this.props.disableDynamicPositioning;t||e.isOpen||!this.props.isOpen||this.checkAndSetPosition(),t||!e.isOpen||this.props.isOpen||this.setState({positionSet:!1})}render(){var e=this.state;const t=e.caretOnTop;return e.positionSet?t?o.a.createElement(y,Object.assign({},this.props,{caretOnTop:t,targetPosition:["center","bottom"],tooltipPosition:["center","top"]})):o.a.createElement(y,Object.assign({},this.props,{caretOnTop:t,targetPosition:["center","top"],tooltipPosition:["center","bottom"]})):null}}),_=a("./src/reddit/components/SubredditIcon/index.tsx"),S=a("./src/reddit/icons/svgs/Moderate/index.tsx");const j=e=>{const t=e.award,a=e.postOrComment;if(t.awardType===m.a.Community)return"post"===a?o.a.createElement(c.c,null,"Shows the ",o.a.createElement(c.b,{name:"award-name"},t.name)," Award on the post."):o.a.createElement(c.c,null,"Shows the ",o.a.createElement(c.b,{name:"award-name"},t.name)," Award on the comment.");if(t.awardType===m.a.Moderator){const e=t.daysOfPremium?Math.floor(t.daysOfPremium/30):0;return 1===e?o.a.createElement(c.c,null,"Shows the ",o.a.createElement(c.b,{name:"award-name"},t.name)," Award and gives the recipient 1 month of Premium."):o.a.createElement(c.c,null,"Shows the ",o.a.createElement(c.b,{name:"award-name"},t.name)," Award and gives the recipient ",o.a.createElement(c.b,{name:"months-of-premium"},e)," months of Premium.")}return"gid_1"===t.id?"post"===a?o.a.createElement(c.c,null,"Shows the Silver Award on the post... and that's it."):o.a.createElement(c.c,null,"Shows the Silver Award on the comment... and that's it."):"gid_2"===t.id?"post"===a?o.a.createElement(c.c,null,"Shows the Gold Award on the post and gives the recipient a week of Reddit Premium (including 100 Coins)."):o.a.createElement(c.c,null,"Shows the Gold Award on the comment and gives the recipient a week of Reddit Premium (including 100 Coins)."):"gid_3"===t.id?"post"===a?o.a.createElement(c.c,null,"Shows the Platinum Award on the post and grants the recipient one month of Reddit Premium."):o.a.createElement(c.c,null,"Shows the Platinum Award on the comment and grants the recipient one month of Reddit Premium."):null};var N=a("./src/reddit/components/AwardTooltip/index.m.less"),I=a.n(N);const k=Object(s.c)({language:h.Q,subreddit:(e,{postOrComment:t})=>Object(p.N)(e,{thingId:t.id})});t.default=Object(r.b)(k)(e=>{const t=e.award,a=e.postOrComment,n=e.subreddit;return o.a.createElement(A,{caretOnTopColor:l.a.alienblue,tooltipHeightEstimate:290,tooltipId:e.tooltipId},o.a.createElement("div",{className:I.a.headerBar}),o.a.createElement("div",{className:I.a.awardDetails},o.a.createElement("div",{className:I.a.awardIconContainer},o.a.createElement("div",{className:I.a.awardIcon,style:{backgroundImage:`url("${t.icon.url}")`}})),o.a.createElement("div",{className:I.a.awardName},o.a.createElement(c.c,null,o.a.createElement(c.b,{name:"award-name"},t.name)," Award")),o.a.createElement("p",{className:I.a.awardDescription},o.a.createElement(j,{award:t,postOrComment:Object(d.a)(a.id)?"post":"comment"})),t.awardType===m.a.Community&&n&&o.a.createElement("div",{className:I.a.subreddit},o.a.createElement(_.b,{className:I.a.subredditIcon,subredditOrProfile:n}),`r/${n.name}`),t.awardType===m.a.Moderator&&o.a.createElement("div",{className:I.a.subreddit},o.a.createElement(S.a,{className:Object(i.a)(I.a.subredditIcon,I.a.modShield)}),o.a.createElement(c.c,null,"Exclusive mod-given Award")),o.a.createElement("a",{className:I.a.howToLink,href:"https://www.reddithelp.com/en/categories/reddit-101/reddit-basics/what-are-awards",target:"_blank"},o.a.createElement(c.c,null,"How do I award?"))))})},"./src/reddit/components/ContentTooltip/index.m.less":function(e,t,a){e.exports={tooltipContainer:"_1YTJEYh5nj6YF7Ck0RFzn3",fadeIn:"_2bkYZH_kJx5pIHW0Ts5P6e",caretOnTop:"_1MHCyMQAMeqRqf5DPWWeq3"}}}]);
//# sourceMappingURL=AwardTooltip.85f7930d2600d7e5fbf6.js.map