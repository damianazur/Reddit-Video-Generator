(window.webpackJsonp=window.webpackJsonp||[]).push([["EconHelperActions"],{"./src/lib/bigNumberUtils/percent.ts":function(t,e,s){"use strict";s.d(e,"a",function(){return d});var n=s("./node_modules/bignumber.js/bignumber.js");function d(t,e){const s=new n.BigNumber(t),d=new n.BigNumber(e),r=new n.BigNumber(s.dividedBy(d)),i=new n.BigNumber("100").multipliedBy(r);return new n.BigNumber(i).toNumber()}},"./src/reddit/actions/economics/helpers/index.ts":function(t,e,s){"use strict";s.r(e),s.d(e,"fetchAll",function(){return b});var n=s("./node_modules/lodash/curry.js"),d=s.n(n),r=s("./src/reddit/actions/badge.ts"),i=s("./src/reddit/actions/economics/tips/thunkedActions.ts"),c=s("./src/reddit/actions/governance/communityDetails.ts"),o=s("./src/reddit/actions/governance/publicWalletsFetched.ts"),a=s("./src/reddit/featureFlags/index.ts");const u=d()((t,e)=>e.some(e=>a.d[e](t))),b=t=>async(e,s,{apiContext:n})=>{var d=t.commentIds;const a=void 0===d?[]:d;var b=t.postIds;const l=void 0===b?[]:b;var p=t.skip;const m=void 0===p?[]:p,g=t.subredditId,h=[],I=l.concat(a),w=s(),f=u(w),v=w.comments.models,j=w.posts.models,O=new Set(w.user.account?[w.user.account.id]:[]);l.forEach(t=>{const e=j[t];e&&O.add(e.authorId)}),a.forEach(t=>{const e=v[t];e&&O.add(e.authorId)});const y=Array.from(O);!m.includes("badges")&&y.length&&f(["spBadges","spLoadtest","spPremium"])&&h.push(e(Object(r.l)({subredditId:g,userIds:y}))),!m.includes("communityDetails")&&f(["spLoadtest","spPoints","spSupport"])&&h.push(e(Object(c.a)({subredditId:g}))),!m.includes("tips")&&I.length&&f(["spLoadtest","spSupport"])&&h.push(e(Object(i.a)({subredditId:g,contentIds:I}))),!m.includes("wallets")&&y.length&&f(["spLoadtest","spPoints"])&&h.push(e(Object(o.a)({subredditId:g,userIds:y}))),await Promise.all(h)}},"./src/reddit/actions/economics/tips/thunkedActions.ts":function(t,e,s){"use strict";var n=s("./src/reddit/endpoints/economics/tips.ts"),d=s("./src/lib/makeActionCreator/index.ts"),r=s("./src/reddit/actions/economics/tips/constants.ts");const i=Object(d.a)(r.a);s.d(e,"a",function(){return c});const c=t=>async(e,s,{apiContext:d})=>{const r=await Object(n.a)(d(),t);r.ok&&e(i({subredditId:t.subredditId,tipData:r.body}))}},"./src/reddit/actions/governance/publicWalletsFetched.ts":function(t,e,s){"use strict";var n=s("./src/lib/makeActionCreator/index.ts"),d=s("./src/reddit/endpoints/governance/wallet.ts"),r=s("./src/reddit/actions/governance/constants.ts");const i=Object(n.a)(r.m),c=Object(n.a)(r.n),o=Object(n.a)(r.l);e.a=(t=>async(e,s,{apiContext:n})=>{e(i({subredditId:t.subredditId}));const r=await Object(d.b)(n(),t);r.ok?e(c(Object.assign({subredditId:t.subredditId},r.body))):e(o({error:r.error}))})},"./src/reddit/endpoints/governance/wallet.ts":function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return c});var n=s("./src/config.ts"),d=(s("./src/lib/bigNumberUtils/percent.ts"),s("./src/lib/constants/index.ts")),r=s("./src/reddit/endpoints/governance/requester.ts");function i(t,e){return Object(r.a)(t,{endpoint:`${n.a.metaUrl}/wallets/${e.subredditId}/me`,method:d.bb.GET}).then(t=>{if(t.ok){const s=t.body,n={[e.subredditId]:s};return Object.assign({},t,{body:n})}return t})}function c(t,e){return Object(r.a)(t,{headers:{"X-HTTP-Method-Override":"GET"},endpoint:`${n.a.metaUrl}/wallets/${e.subredditId}`,method:d.bb.POST,data:e.userIds}).then(t=>t.ok?Object.assign({},t,{body:{wallets:t.body}}):t)}}}]);
//# sourceMappingURL=EconHelperActions.18189018d427e50c5ba7.js.map